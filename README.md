# my12306

大三专业实训项目，主要实现类似于12306网站的铁路信息管理和购票功能。

## 项目技术体系

后端使用ssm框架，前端使用bootstrap和jquery，前后端通过json进行通信。开发使用windows下的idea，最终部署环境为linux（Ubuntu），
服务器使用nginx处理静态文件，并将其他请求转发给tomcat。

## 主要功能

前台用户：个人信息管理，车次查询，管理自己的订单和车票

后台管理员：车站管理，区段管理，线路管理，列车管理，车厢管理，订单管理，车票管理，用户管理

_说明：车站为具体的点，区段由车站连成，线路由区段连成；
列车创建时选择所属的线路，车厢属于列车，车厢拥有某种座位类型的若干张车票；
用户查询列车后可以选择创建订单，一个订单包括同一列车同一座位类型的属于不同的人的若干车票；
出票逻辑为：选择列车下面某种座位类型车票数非0的车厢（按自增id排序），
判断车票存量后从第一个车厢开始出票，创建订单和车票，并更新车票数量；
订单可以取消，付款，退款（订单下的车票状态随订单状态改变）；车票可以退票_

## 开发过程

根据需求文档,数据表的设计由我与[@DongZhuoran](https://github.com/DongZhuoran)讨论完成（[数据库结构](https://github.com/d4smart/My12306/blob/master/my12306.sql)）。

然后我进行了项目的初始化，配置和调通工作。

之后前端与后端并行开发，前端由[@DongZhuoran](https://github.com/DongZhuoran)和[@hujiaojian](https://github.com/hujiaojian)开发，后端由我负责。

功能大致完成并对接完毕后，前端与后台又进行了一些测试以完善逻辑并纠正一些bug。

最后由我部署上线（nginx配置文件见[my12306.d4smarter.com.conf](https://github.com/d4smart/My12306/blob/master/my12306.d4smarter.com.conf)，
部署脚本见[deploy.sh](https://github.com/d4smart/My12306/blob/master/deploy.sh)）。

## 遗憾

由于只有一周，时间比较紧张，项目完成得比较仓促。

前期进行数据表设计的时候，由于时间的紧张，数据表设计没有考虑到业务中的一些较为复杂的场景，导致后期代码编写的时候对实际的情况反映不够，对真实的业务场景做了一些简化。

项目没有实现的逻辑有：车票区段相关的逻辑，车票数量按日期进行区分，座位的概念。

在这里我要感谢[@DongZhuoran](https://github.com/DongZhuoran)，他负责前端，项目时间的紧张使我没有时间写接口文档，他在与后台对接的时候查阅了我的后台代码来使用我的后台接口，整个项目才得以继续进行。

## 部署地址

http://my12306.d4smarter.com/

测试账号：15171444706/9d6mwhs7（管理员），13906270193/654123（普通用户）
