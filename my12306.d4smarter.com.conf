server {
listen 80;
server_name my12306.d4smarter.com;
access_log /usr/local/nginx/logs/access.log combined;
index index.html index.htm index.jsp index.php;
if ( $query_string ~* ".*[\;'\<\>].*" ){
        return 404;
        }

location = / {
        root /data/www/my12306.d4smarter.com/src/main/webapp;
        index index.html;
}

location ~ .*\.html$ {
        root /data/www/my12306.d4smarter.com/src/main/webapp;
        index index.html;
}

location / {
        proxy_pass http://127.0.0.1:8080/;
        }

location ~ .*\.(gif|jpg|jpeg|png|bmp|swf|flv|ico)$ {
        proxy_pass http://127.0.0.1:8080;
        expires 30d;
        }

location ~ .*\.(js|css)?$ {
        proxy_pass http://127.0.0.1:8080;
        expires 7d;
        }
}